<!DOCTYPE html><html lang="ru-RU"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTBMMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMzIgOTBsNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTQwIDcwSDIwVjUwbTIwIDBMMjAgNzBtNDAtNDBoMjB2MjBtLTIwIDBsMjAtMjAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJhIiB4PSIxMCIgeT0iMjAiIHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgcng9IjUuNjciLz48cGF0aCBjbGFzcz0iYSIgZD0iTTIwIDUwaDIwdjIwbS0yMCAwbDIwLTIwbTQwIDBINjBWMzBtMjAgMEw2MCA1MCIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS13aWR0aDo1cHh9PC9zdHlsZT48L2RlZnM+PHBhdGggY2xhc3M9ImEiIGQ9Ik0yMCA2MGgtNWE1IDUgMCAwMS01LTVWMjBhNSA1IDAgMDE1LTVoNjBhNSA1IDAgMDE1IDV2NU0zMCA4NWg2MCIvPjxyZWN0IHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIi8+PHJlY3QgY2xhc3M9ImEiIHg9IjMwIiB5PSIzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjQwIiByeD0iNSIvPjxwYXRoIGNsYXNzPSJhIiBkPSJNNDAgNTBoNDBNNDAgNjBoMzAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide.bespoke-marp-active{opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{-webkit-animation-name:__bespoke_marp__!important;animation-name:__bespoke_marp__!important}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{bottom:0;left:0;position:absolute;right:0;top:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;z-index:1;will-change:transform}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{flex:0 0 0;background:#0288d1;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{font-family:Helvetica,Arial,sans-serif;height:100%;left:0;position:absolute;top:0;width:100%;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:minmax(140px,1fr) 2fr 3em;grid-template-areas:"current next" "current note" "info    note"}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;position:relative;overflow:hidden}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;top:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{-webkit-filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;-webkit-filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:20px;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{margin:20px;width:calc(100% - 40px);height:calc(100% - 40px);box-sizing:border-box;font-size:1.1em;overflow:auto;padding-right:3px;white-space:pre-wrap;word-wrap:break-word;scrollbar-width:thin;scrollbar-color:hsla(0,0%,93.3%,.5) transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93.3%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{display:block;box-sizing:border-box;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import url("https://fonts.googleapis.com/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap");div#p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#p>svg>foreignObject>section h1{font-size:2em;margin:0.67em 0}div#p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1280px 720px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#p>svg>foreignObject>section{page-break-before:always;break-before:page}div#p>svg>foreignObject>section,div#p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{display:block;height:auto;width:100%}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{position:static}}div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{content:""}@supports (-ms-ime-align:auto){div#p>svg>foreignObject>section svg[data-marp-fitting=svg].__reflow__{position:relative}}div#p>svg>foreignObject>section [data-marp-fitting-svg-content]{display:table;white-space:nowrap}div#p>svg>foreignObject>section [data-marp-fitting-svg-content-wrap]{white-space:pre}div#p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}
/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 4:3 960px 720px
 */div#p>svg>foreignObject>section .hljs{display:block;overflow-x:auto;padding:.5em;background:#000;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-comment,div#p>svg>foreignObject>section .hljs-quote{color:#aeaeae;font-style:italic}div#p>svg>foreignObject>section .hljs-keyword,div#p>svg>foreignObject>section .hljs-selector-tag,div#p>svg>foreignObject>section .hljs-type{color:#e28964}div#p>svg>foreignObject>section .hljs-string{color:#65b042}div#p>svg>foreignObject>section .hljs-subst{color:#daefa3}div#p>svg>foreignObject>section .hljs-link,div#p>svg>foreignObject>section .hljs-regexp{color:#e9c062}div#p>svg>foreignObject>section .hljs-name,div#p>svg>foreignObject>section .hljs-section,div#p>svg>foreignObject>section .hljs-tag,div#p>svg>foreignObject>section .hljs-title{color:#89bdff}div#p>svg>foreignObject>section .hljs-class .hljs-title,div#p>svg>foreignObject>section .hljs-doctag{text-decoration:underline}div#p>svg>foreignObject>section .hljs-bullet,div#p>svg>foreignObject>section .hljs-number,div#p>svg>foreignObject>section .hljs-symbol{color:#3387cc}div#p>svg>foreignObject>section .hljs-params,div#p>svg>foreignObject>section .hljs-template-variable,div#p>svg>foreignObject>section .hljs-variable{color:#3e87e3}div#p>svg>foreignObject>section .hljs-attribute{color:#cda869}div#p>svg>foreignObject>section .hljs-meta{color:#8996a8}div#p>svg>foreignObject>section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#p>svg>foreignObject>section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#p>svg>foreignObject>section .hljs-selector-class{color:#9b703f}div#p>svg>foreignObject>section .hljs-selector-id{color:#8b98ab}div#p>svg>foreignObject>section .hljs-emphasis{font-style:italic}div#p>svg>foreignObject>section .hljs-strong{font-weight:700}div#p>svg>foreignObject>section svg[data-marp-fitting=svg]{max-height:580px}div#p>svg>foreignObject>section h1,div#p>svg>foreignObject>section h2,div#p>svg>foreignObject>section h3,div#p>svg>foreignObject>section h4,div#p>svg>foreignObject>section h5,div#p>svg>foreignObject>section h6{margin:.5em 0 0}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{font-weight:inherit}div#p>svg>foreignObject>section h1{font-size:1.8em}div#p>svg>foreignObject>section h2{font-size:1.5em}div#p>svg>foreignObject>section h3{font-size:1.3em}div#p>svg>foreignObject>section h4{font-size:1.1em}div#p>svg>foreignObject>section h5{font-size:1em}div#p>svg>foreignObject>section h6{font-size:.9em}div#p>svg>foreignObject>section blockquote,div#p>svg>foreignObject>section p{margin:1em 0 0}div#p>svg>foreignObject>section ol>li,div#p>svg>foreignObject>section ul>li{margin:.3em 0 0}div#p>svg>foreignObject>section ol>li>p,div#p>svg>foreignObject>section ul>li>p{margin:.6em 0 0}div#p>svg>foreignObject>section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#p>svg>foreignObject>section pre{display:block;margin:1em 0 0;min-height:1em;overflow:visible}div#p>svg>foreignObject>section pre code{box-sizing:border-box;margin:0;min-width:100%;padding:.5em;font-size:.7em}div#p>svg>foreignObject>section pre code svg[data-marp-fitting=svg]{max-height:calc(580px - 1em)}div#p>svg>foreignObject>section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before{content:"“";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#p>svg>foreignObject>section blockquote:before{top:0;left:0}div#p>svg>foreignObject>section blockquote:after{right:0;bottom:0;transform:rotate(180deg)}div#p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#p>svg>foreignObject>section mark{background:transparent}div#p>svg>foreignObject>section table{border-spacing:0;border-collapse:collapse;margin:1em 0 0}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{padding:.2em .4em;border-width:1px;border-style:solid}div#p>svg>foreignObject>section{background-image:linear-gradient(135deg,hsla(0,0%,53.3%,0),hsla(0,0%,53.3%,.02) 50%,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.05));font-size:35px;font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;height:720px;line-height:1.35;letter-spacing:1.25px;padding:70px;width:1280px;word-wrap:break-word;color:#455a64;background-color:#fff8e1}div#p>svg>foreignObject>section{--marpit-root-font-size:35px}div#p>svg>foreignObject>section>:first-child,div#p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#p>svg>foreignObject>section a,div#p>svg>foreignObject>section mark{color:#0288d1}div#p>svg>foreignObject>section code{background:#6a7a7d;color:#fff8e1}div#p>svg>foreignObject>section h1 strong,div#p>svg>foreignObject>section h2 strong,div#p>svg>foreignObject>section h3 strong,div#p>svg>foreignObject>section h4 strong,div#p>svg>foreignObject>section h5 strong,div#p>svg>foreignObject>section h6 strong{color:#0288d1}div#p>svg>foreignObject>section pre>code{background:#455a64}div#p>svg>foreignObject>section blockquote:after,div#p>svg>foreignObject>section blockquote:before,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header,div#p>svg>foreignObject>section section:after{color:#6a7a7d}div#p>svg>foreignObject>section table td,div#p>svg>foreignObject>section table th{border-color:#455a64}div#p>svg>foreignObject>section table thead th{background:#455a64;color:#fff8e1}div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section table tbody>tr:nth-child(odd) th{background:rgba(69,90,100,.1)}div#p>svg>foreignObject>section.invert{color:#fff8e1;background-color:#455a64}div#p>svg>foreignObject>section.invert a,div#p>svg>foreignObject>section.invert mark{color:#81d4fa}div#p>svg>foreignObject>section.invert code{background:#dad8c8;color:#455a64}div#p>svg>foreignObject>section.invert h1 strong,div#p>svg>foreignObject>section.invert h2 strong,div#p>svg>foreignObject>section.invert h3 strong,div#p>svg>foreignObject>section.invert h4 strong,div#p>svg>foreignObject>section.invert h5 strong,div#p>svg>foreignObject>section.invert h6 strong{color:#81d4fa}div#p>svg>foreignObject>section.invert pre>code{background:#fff8e1}div#p>svg>foreignObject>section.invert blockquote:after,div#p>svg>foreignObject>section.invert blockquote:before,div#p>svg>foreignObject>section.invert footer,div#p>svg>foreignObject>section.invert header,div#p>svg>foreignObject>section.invert section:after{color:#dad8c8}div#p>svg>foreignObject>section.invert table td,div#p>svg>foreignObject>section.invert table th{border-color:#fff8e1}div#p>svg>foreignObject>section.invert table thead th{background:#fff8e1;color:#455a64}div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.invert table tbody>tr:nth-child(odd) th{background:rgba(255,248,225,.1)}div#p>svg>foreignObject>section.gaia{color:#fff8e1;background-color:#0288d1}div#p>svg>foreignObject>section.gaia a,div#p>svg>foreignObject>section.gaia mark{color:#81d4fa}div#p>svg>foreignObject>section.gaia code{background:#cce2de;color:#0288d1}div#p>svg>foreignObject>section.gaia h1 strong,div#p>svg>foreignObject>section.gaia h2 strong,div#p>svg>foreignObject>section.gaia h3 strong,div#p>svg>foreignObject>section.gaia h4 strong,div#p>svg>foreignObject>section.gaia h5 strong,div#p>svg>foreignObject>section.gaia h6 strong{color:#81d4fa}div#p>svg>foreignObject>section.gaia pre>code{background:#fff8e1}div#p>svg>foreignObject>section.gaia blockquote:after,div#p>svg>foreignObject>section.gaia blockquote:before,div#p>svg>foreignObject>section.gaia footer,div#p>svg>foreignObject>section.gaia header,div#p>svg>foreignObject>section.gaia section:after{color:#cce2de}div#p>svg>foreignObject>section.gaia table td,div#p>svg>foreignObject>section.gaia table th{border-color:#fff8e1}div#p>svg>foreignObject>section.gaia table thead th{background:#fff8e1;color:#0288d1}div#p>svg>foreignObject>section.gaia table tbody>tr:nth-child(odd) td,div#p>svg>foreignObject>section.gaia table tbody>tr:nth-child(odd) th{background:rgba(255,248,225,.1)}div#p>svg>foreignObject>section.lead{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:center}div#p>svg>foreignObject>section.lead h1,div#p>svg>foreignObject>section.lead h2,div#p>svg>foreignObject>section.lead h3,div#p>svg>foreignObject>section.lead h4,div#p>svg>foreignObject>section.lead h5,div#p>svg>foreignObject>section.lead h6{text-align:center}div#p>svg>foreignObject>section.lead h1 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h2 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h3 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h4 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h5 svg[data-marp-fitting=svg],div#p>svg>foreignObject>section.lead h6 svg[data-marp-fitting=svg]{--preserve-aspect-ratio:xMidYMid meet}div#p>svg>foreignObject>section.lead p{text-align:center}div#p>svg>foreignObject>section.lead blockquote>h1,div#p>svg>foreignObject>section.lead blockquote>h2,div#p>svg>foreignObject>section.lead blockquote>h3,div#p>svg>foreignObject>section.lead blockquote>h4,div#p>svg>foreignObject>section.lead blockquote>h5,div#p>svg>foreignObject>section.lead blockquote>h6,div#p>svg>foreignObject>section.lead blockquote>p{text-align:left}div#p>svg>foreignObject>section.lead blockquote svg[data-marp-fitting=svg]:not([data-marp-fitting-math]){--preserve-aspect-ratio:xMinYMin meet}div#p>svg>foreignObject>section.lead ol>li>p,div#p>svg>foreignObject>section.lead ul>li>p{text-align:left}div#p>svg>foreignObject>section.lead table{margin-left:auto;margin-right:auto}div#p>svg>foreignObject>section:after,div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#p>svg>foreignObject>section:after{--marpit-root-font-size:66%}div#p>svg>foreignObject>section header{top:0}div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{left:0;right:0}div#p>svg>foreignObject>section footer{bottom:0}div#p>svg>foreignObject>section:after{right:0;bottom:0;font-size:80%}div#p>svg>foreignObject>section:after{--marpit-root-font-size:80%}div#p>svg>foreignObject>section{font-family:"Open Sans","Tahoma","apple color emoji","segoe ui emoji","segoe ui symbol","noto color emoji";font-size:32px;letter-spacing:unset}div#p>svg>foreignObject>section{--marpit-root-font-size:32px}div#p>svg>foreignObject>section footer,div#p>svg>foreignObject>section header{font-size:50%}div#p>svg>foreignObject>section:after{content:attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]{display:block!important;padding:0!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#p>svg>foreignObject>section[data-marpit-advanced-background=content],div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id="p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-class="lead" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" class="lead" data-marpit-pagination="1" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--class:lead;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1><strong>Лекция №11: Современный Back-end</strong></h1>
<p>Web-программирование / ПГНИУ</p>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="2" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="2" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Традиционная инфраструктура</h1>
<ul>
<li>Есть веб-приложение (клиент-серверной приложение?)</li>
<li>Это приложение на сервере, принимающее запросы, и отдающее HTML страницы веб-сайта</li>
<li>Страницы отображаются у пользователя в веб-браузере (возможно, с использованием JavaScript)</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="3" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/regular.png&quot;);"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="3" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="3" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="3" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="4" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/regular-2.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="4" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="4" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="4" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="5" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Веб-сервер</h1>
<ul>
<li>HTTP-сервер</li>
<li>Маршрутизация</li>
<li>Хостинг статики (html, js, css, и т.п. файлов)</li>
<li>Обратный прокси (reverse proxy) к другим приложениям</li>
<li>Балансировка нагрузки</li>
<li>HTTPS и работа с SSL, HTTP/2 и т.д.</li>
<li>Кэширование, сжатие</li>
<li>Ограничение нагрузки (трафик, запросы в секунду)</li>
<li>Nginx, Apache, IIS, Traefik</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="6" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/web-server.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="6" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="6" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="6" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="7" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>AJAX SPA</h1>
<ul>
<li>Веб-приложение - честно клиент-серверное приложение</li>
<li>Клиент - JavaScript приложение, работающее в браузере</li>
<li>Сервер - простой веб-сервер, отдающий статику</li>
<li>Сервер - API</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="8" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SPA.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="8" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="8" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="8" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="9" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SPA-SSR.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="9" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="9" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="9" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="10" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SPA-2.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="10" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="10" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="10" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="11" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>CDN</h1>
<ul>
<li>Проблема - чем дальше клиент от сервера, тем больше времени идёт запрос (количество посредников в сети + ограничения скорости света)</li>
<li>Статичные файлы - статичны. Их не требуется часто изменять или синхронизировать. Именно они первые загружаются SPA</li>
<li>Решение - <strong>Content Delivery Network</strong> (система доставки контента)</li>
<li>Имеем множество серверов со статикой по всему миру, клиент получает содержимое с ближайшего</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="12" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/CDN.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="12" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="12" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="12" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="13" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Масштабирование</h1>
<ul>
<li>Вертикальное масштабирование - увеличение вычислительных ресурсов</li>
<li>Горизонтальное масштабирование - увеличение вычислительных узлов</li>
<li>Запрос-за-процесс, запрос-на-поток, запрос-на-асинхронное-приложение</li>
<li>Количество процессов на одном сервере - ограничено</li>
<li>Решение - несколько серверов + балансировщик нагрузки</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="14" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Балансировщик нагрузки</h1>
<ul>
<li>Распределяет запросы между несколькими экземплярами приложения (возможно, на нескольких серверах)</li>
<li>Round-robin - просто по очереди</li>
<li>Random - случайно</li>
<li>Умно, с учётом загрузки</li>
<li>Тот же Nginx, системы</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="15" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/load-balancer.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="15" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="15" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="15" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="16" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Распределённое приложение</h1>
<ul>
<li>Большое монолитное приложение может быть сложно разрабатывать и сложно масштабировать</li>
<li>Возможно, большая нагрузка идёт лишь на некоторую часть приложения</li>
<li>Возможно, есть отдельные тяжёлые операции, которые можно выполнять не сразу</li>
<li>Решение - распределённое приложение, <strong>сервис-ориентированная архитектура</strong></li>
<li>Сервисы могут общаться не только по HTTP</li>
<li>Сервисы можно масштабировать независимо</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="17" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Очередь задач</h1>
<ul>
<li>Некоторые задачи не нужно выполнять сразу, например, задачи по расписанию, почтовая рассылка, тяжелые долгие задачи</li>
<li>Можно выполнять такие задачи в отдельном сервисе (сервисах), складывая их в очередь</li>
<li>Здесь помогут Очереди Сообщений (Message Queue)</li>
<li>Например, RabbitMQ или разные реализации протокола AMQP</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="18" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SOA.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="18" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="18" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="18" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="19" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Микросервисы</h1>
<ul>
<li>Вместо одного распределённого приложения можно иметь много маленьких независимых микросервисов</li>
<li>Каждый микросервис максимально самодостаточный в решении задач, и имеет свои сервисы (БД и тд), чтобы не нагружать общие</li>
<li>Микросервисы могут переиспользоваться разными приложениями</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="20" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/microservices.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="20" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="20" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="20" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="21" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Цена сервис-ориентированной и микросервисной архитектур</h1>
<ul>
<li>Сложное развёртывание</li>
<li>Сложное логирование (запрос проходит через множество сервисов)</li>
<li>Сложная отладка</li>
<li>Сложная разработка (каждый (микро) сервис требуется проектировать, продумывать транспорт)</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-marpit-fragments="6" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="22" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Хранение данных</h1>
<ul>
<li data-marpit-fragment="1">Основное хранилище - БД на Сервере СУБД (реляционное, документ-ориентированное и т.д.)</li>
<li data-marpit-fragment="2">Проблемы:
<ul>
<li data-marpit-fragment="3">Часто забираются одни и те же данные</li>
<li data-marpit-fragment="4">Медленный полнотекстовый поиск</li>
<li data-marpit-fragment="5">Сложно масштабировать (распределённая СУБД - БОЛЬ). Есть неизменяемые данные, которые просто накапливаются, но их требуется обрабатывать</li>
</ul>
</li>
<li data-marpit-fragment="6">Решение - больше баз данных на разных СУБД</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="23" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Кэширование данных</h1>
<ul>
<li>Простые key-value БД, работающие в in memory</li>
<li>Redis, Memcached</li>
<li>Используются для кэширования данных и &quot;общей памяти&quot; разных сервисов</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="24" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Сервер полнотекстового поиска</h1>
<ul>
<li>БД, хранящая проиндексированные данные (например, словарь по словам)</li>
<li>Пример: Elasticsearch</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="25" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Много-много данных</h1>
<ul>
<li>Кроме основных изменяемых данных, есть данные, которые только добавляются, но приходят большим потоком и требуют обработки</li>
<li>Логирование приложения</li>
<li>Логирование действий пользователя</li>
<li>Задачи:
<ul>
<li>Real-time аналитика и простой мониторинг</li>
<li>BigData, сложная аналитика и машинное обучение</li>
<li>Хранение исторических данных</li>
</ul>
</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="26" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Хранилище данных</h1>
<p>Хранилище данных (warehouse) - система хранение больших объёмов неизменяемых данных.</p>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="27" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Базы данных временных рядов</h1>
<ul>
<li>Time series database (TSDB)</li>
<li>БД, где эффективно хранятся последовательности данных, привязанных к временной метке</li>
<li>Оптимизированы на быстрый приём данных, независимо от общего объёма</li>
<li>Автоматическое удаление старых данных</li>
<li>Далее данные уходят потребителю (Grafana, Datadog...)</li>
<li>Примеры: Prometheus, InfluxDB</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="28" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Потоковая обработка данных</h1>
<ul>
<li>Распределённое хранение большого объёма данных</li>
<li>Потоковая обработка данных, анализ данных</li>
<li>Примеры: Hadoop, Apache Spark</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="29" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Пользовательские файлы</h1>
<ul>
<li>Хранить файлы в ФС сервера - плохо</li>
<li>Simple Storage Service (s3) - файловый хостинг</li>
<li>Служба, предоставляющая возможность хранения и получения данных (файлов); распределённая, масштабируемая</li>
<li>Изначально сервис в Amazon AWS (AWS s3), далее протокол, реализованный многими сервисами</li>
<li>Google Cloud s3, Azure s3</li>
<li>self-hosted - <a href="http://min.io">min.io</a></li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="30" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/infrastructure.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="30" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="30" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="30" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="31" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Аутентификация</h1>
<ul>
<li>HTTP Basic Auth: браузер сам делает форму, хранит данные и отправляет их в заголовке</li>
<li>Session: данные аутентификации и другие данные хранятся в сессии
<ul>
<li>client-side session - зашифровано в cookie (не безопасно)</li>
<li>server-side session - данные на сервере в хранилище, а в cookie только SID</li>
</ul>
</li>
<li>Аутентификация по токенам - с запросом как-то отправляется токен аутентификации. Токен выдаётся сервисом аутентификации.</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="32" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SID.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="32" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="32" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="32" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="33" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Аутентификация с SID в SPA</h1>
<ul>
<li>При старте приложения запрашиваем данные текущего пользователя (<code>/api/auth/me</code>)</li>
<li>Если данные пришли успешно - пользователь есть</li>
<li>Иначе - нет</li>
<li>Можно при успешной аутентификации сохраняем данные пользователя в LocalStorage</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="34" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/SID-2.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="34" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="34" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="34" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="35" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>OAuth</h1>
<ul>
<li>OAuth 1.0 и OAuth 2.0 - протоколы аутентификации в сторонних приложениях</li>
<li>Описывают разные схемы аутентификации в сторонних приложениях</li>
<li>Аутентификация через социальные сети</li>
<li>Аутентификация приложения для использования API других приложений</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="36" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://upload.wikimedia.org/wikipedia/commons/0/0f/OAuth.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="36" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="36" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="36" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-marpit-fragments="2" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="37" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Проблемы с аутентификацией</h1>
<ul>
<li data-marpit-fragment="1">Проблема 1: требуется сохранять аутентификацию для разных сервисов на разных доменах</li>
<li data-marpit-fragment="2">Проблема 2: stateful  аутентификация - это затраты. Требуется из каждого сервиса либо всегда обращаться в сервис аутентификации, либо иметь доступ к хранилищу (сессиям)</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="38" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Проблема с кросс-доменными запросами</h1>
<ul>
<li>Cookie отправляются на тот домен, с которого они были установлены</li>
<li>Значит информацию об аутентификации надо отправлять не в Cookie, а как-то в запросе из клиента</li>
<li>Наиболее правильно - заголовок <code>Authorization</code></li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="39" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Stateless авторизация</h1>
<ul>
<li>Вместо идентификатора сессии используем токен с подписью (или зашифрованный)</li>
<li>В токене сохраняем данные авторизации</li>
<li>Сервисы могут верить токену, потому что он подписан</li>
<li>Подпись - просто хэш, симметричное шифрование, асимметричное шифрование</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="40" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/token-auth.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="40" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="40" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="40" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-marpit-fragments="3" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="41" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>JWT</h1>
<ul>
<li data-marpit-fragment="1"><strong>JSON Web Token</strong> - компактное, безопасное для URL средство представления заявок, передаваемых между двумя сторонами (RFC 7519)</li>
<li data-marpit-fragment="2">Строка в формате <code>header.payload.signature</code><br />
<code>Header</code> – Информация об алгоритме вычисления подписи<br />
<code>header = { &quot;alg&quot;: &quot;RS256&quot;, &quot;typ&quot;: &quot;JWT&quot;}</code><br />
<code>Payload</code> – собственно полезная нагрузка<br />
<code>payload = { &quot;userId&quot;: &quot;1&quot;, &quot;name&quot;: &quot;Petya&quot;, &quot;isAdmin&quot;: true }</code><br />
<code>Signature</code> – цифровая подпись</li>
<li data-marpit-fragment="3"><code>JWT = base64(header) + '.' base64(payload) + '.' + base64(signature)</code></li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="42" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/jwt.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="42" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="42" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="42" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-marpit-fragments="3" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="43" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>JWT для аутентификации</h1>
<ul>
<li data-marpit-fragment="1">JWT - подписанные данные. Мы знаем, что данные там достоверны и можем ему верить</li>
<li data-marpit-fragment="2">Можно делать <strong>Stateless</strong> аутентификации</li>
<li data-marpit-fragment="3">Проблема - инвалидация...
<ul>
<li>Инвалидация по истечении времени</li>
<li>Инвалидация в случае, если токен скомпрометирован</li>
</ul>
</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="44" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>JWT с ограниченным временем жизни</h1>
<p>Первая часть решения простая - ограничивать время жизни JWT, передавая в нём метку времени, когда он истечёт.</p>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-marpit-fragments="3" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="45" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Refreshing an Expired Access Token Flow</h1>
<ul>
<li data-marpit-fragment="1">Единственный надёжный способ инвалидировать токен - иметь базу инвалидированных токенов. Это делает использование JWT (stateless) бесполезным.</li>
<li data-marpit-fragment="2">Сделаем токен <strong>короткоживущим</strong> (~1-5 минут)</li>
<li data-marpit-fragment="3">Чтобы пользователя не разлогинило, добавим ещё один токен - одноразовый долгоживущий <strong>refresh_token</strong>, который используется для получения нового JWT</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="46" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>JWT + refresh_token</h1>
<ul>
<li>JWT (access_token):
<ul>
<li>Stateless, подписанный</li>
<li>Короткоживущий (~1-5 мин.)</li>
<li>Используется для авторизации в сервисах приложения</li>
</ul>
</li>
<li>refresh_token (любой токен, например, UUID):
<ul>
<li>Statefull</li>
<li>Живёт долго, одноразовый</li>
<li>Используется для получения новой пары JWT + refresh_token на сервисе аутентификации</li>
</ul>
</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="47" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/jwt-login.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="47" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="47" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="47" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#000" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="48" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#000;--theme:gaia;
;background-color:#000;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/5-minutes-later.jpg&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="48" data-paginate="true" data-background-color="#000" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="48" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#000;--theme:gaia;
;background-color:#000;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="48" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="49" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;img/jwt-refresh.png&quot;);background-size:contain;"></figure></div></section></foreignObject><foreignObject width="1280" height="720"><section id="49" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="49" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;" data-marpit-advanced-background="content"><footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section style="" data-marpit-advanced-background="pseudo" data-marpit-pagination="49" data-marpit-pagination-total="53"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-marpit-fragments="5" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="50" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Как защититься от кражи токенов</h1>
<ul>
<li data-marpit-fragment="1">Использовать HTTPS (иначе об авторизации вообще не может быть и речи!)</li>
<li data-marpit-fragment="2">Хранить в токене идентификатор устройства (отпечаток, ip адрес и т.д.)</li>
<li data-marpit-fragment="3">Основная потенциальная причина кражи - XSS</li>
<li data-marpit-fragment="4"><code>refresh-token</code> можно хранить в <code>httpOnly</code> <code>Cookie</code></li>
<li data-marpit-fragment="5"><code>access_token</code> хранить как можно безопаснее
<ul>
<li>LocalStorage или простой Cookie - самое не безопасное</li>
<li>В локальной переменной - лучше</li>
<li>Service Worker - идеально</li>
</ul>
</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-marpit-fragments="5" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="51" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Аутентификация в SPA с JWT</h1>
<ol>
<li data-marpit-fragment="1">Авторизуемся на <strong>Сервисе аутентификации</strong></li>
<li data-marpit-fragment="2">Получаем 2 токена:<br />
<code>JWT (access_token)</code> сохраняется в памяти приложения<br />
<code>refresh_token</code> пришёл вместе с <code>httpOnly</code> <code>Cookie</code></li>
<li data-marpit-fragment="3">Со всеми запросами SPA прикрепляет токен к заголовку запроса</li>
<li data-marpit-fragment="4">По таймеру (или, когда сервер отвергнет JWT), отправляется запрос на получение новой пары токенов</li>
<li data-marpit-fragment="5">При старте приложения в начале отправляется запрос на получение новой пары токенов</li>
</ol>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="52" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="52" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Когда использовать JWT</h1>
<ul>
<li>Требуется stateless авторизация:
<ul>
<li>Микросервисная архитектура без единого gateway</li>
<li>Большая нагрузка, при которой лишний запрос в сервис аутентификации или хранилище сессий - это дорого</li>
</ul>
</li>
<li>Нет возможности использовать Cookie (вытекает из stateless авторизации)</li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="53" data-paginate="true" data-background-color="#fff" data-footer="Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ" data-theme="gaia" data-style="section {
  font-family: &quot;Open Sans&quot;, &quot;Tahoma&quot;, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;, &quot;noto color emoji&quot;;
  font-size: 32px;
  letter-spacing: unset;
}
header,
footer {
  font-size: 50%;
}
section::after {
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
}
" data-marpit-pagination="53" data-marpit-pagination-total="53" style="--paginate:true;--background-color:#fff;--theme:gaia;
;background-color:#fff;background-image:none;">
<h1>Ссылки</h1>
<ul>
<li>Эффективные надежные микросервисы: <a href="https://habr.com/ru/company/odnoklassniki/blog/499316/">https://habr.com/ru/company/odnoklassniki/blog/499316/</a></li>
<li>HolyJS 2018 Moscow | Дмитрий Пацура — Микросервисная архитектура: <a href="https://www.youtube.com/watch?v=wXaoKroEnp4">https://www.youtube.com/watch?v=wXaoKroEnp4</a></li>
<li>IBM | SOA vs. Microservices: What’s the Difference?: <a href="https://www.ibm.com/cloud/blog/soa-vs-microservices">https://www.ibm.com/cloud/blog/soa-vs-microservices</a></li>
<li>Wikipedia OAuth: <a href="https://ru.wikipedia.org/wiki/OAuth">https://ru.wikipedia.org/wiki/OAuth</a></li>
<li>JWT: <a href="https://jwt.io">https://jwt.io</a></li>
<li>Хорошая статья про JWT: <a href="https://hasura.io/blog/best-practices-of-using-jwt-with-graphql/">https://hasura.io/blog/best-practices-of-using-jwt-with-graphql/</a></li>
</ul>
<footer>Лекция №11: Современный Back-end / Курс Web-программирования 2020 / ПГНИУ</footer>
</section>
<script>!function(){"use strict";const t="marpitSVGPolyfill:setZoomFactor,",e=Symbol();let o,r;function n(n){const i="object"==typeof n&&n.target||document,a="object"==typeof n?n.zoom:n;window[e]||(Object.defineProperty(window,e,{configurable:!0,value:!0}),window.addEventListener("message",({data:e,origin:o})=>{if(o===window.origin)try{if(e&&"string"==typeof e&&e.startsWith(t)){const[,t]=e.split(","),o=Number.parseFloat(t);Number.isNaN(o)||(r=o)}}catch(t){console.error(t)}}));let l=!1;Array.from(i.querySelectorAll("svg[data-marpit-svg]"),t=>{var e,n,i,s;t.style.transform||(t.style.transform="translateZ(0)");const c=a||r||t.currentScale||1;o!==c&&(o=c,l=c);const d=t.getBoundingClientRect(),{length:u}=t.children;for(let o=0;o<u;o+=1){const r=t.children[o],a=r.getScreenCTM();if(a){const t=null!==(n=null===(e=r.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==n?n:0,o=null!==(s=null===(i=r.y)||void 0===i?void 0:i.baseVal.value)&&void 0!==s?s:0,l=r.firstChild,{style:u}=l;u.transformOrigin||(u.transformOrigin=`${-t}px ${-o}px`),u.transform=`scale(${c}) matrix(${a.a}, ${a.b}, ${a.c}, ${a.d}, ${a.e-d.left}, ${a.f-d.top}) translateZ(0.0001px)`}}}),!1!==l&&Array.from(i.querySelectorAll("iframe"),({contentWindow:e})=>{null==e||e.postMessage(`${t}${l}`,"null"===window.origin?"*":window.origin)})}o=1,r=void 0;const i=(t,e,o)=>{if(t.getAttribute(e)!==o)return t.setAttribute(e,o),!0};function a(t={}){const e="boolean"==typeof t?(t=>{const e=!t;return console.warn(`[DEPRECATION WARNING] Usage of observer() with boolean option has been deprecated. Please replace with the usage of option object: observer({ once: ${e?"true":"false"} }).`),{once:e}})(t):t,{once:o=!1,target:r=document}=e,a="Apple Computer, Inc."===navigator.vendor?[n]:[];let l=!o;const s=()=>{for(const t of a)t({target:r});!function(t=document){Array.from(t.querySelectorAll('svg[data-marp-fitting="svg"]'),t=>{var e;const o=t.firstChild,r=o.firstChild,{scrollWidth:n,scrollHeight:a}=r;let l,s=1;if(t.hasAttribute("data-marp-fitting-code")&&(l=null===(e=t.parentElement)||void 0===e?void 0:e.parentElement),t.hasAttribute("data-marp-fitting-math")&&(l=t.parentElement),l){const t=getComputedStyle(l),e=Math.ceil(l.clientWidth-parseFloat(t.paddingLeft||"0")-parseFloat(t.paddingRight||"0"));e&&(s=e)}const c=Math.max(n,s),d=Math.max(a,1),u=`0 0 ${c} ${d}`;i(o,"width",""+c),i(o,"height",""+d),i(t,"preserveAspectRatio",getComputedStyle(t).getPropertyValue("--preserve-aspect-ratio")||"xMinYMin meet"),i(t,"viewBox",u)&&t.classList.toggle("__reflow__")})}(r),l&&window.requestAnimationFrame(s)};return s(),()=>{l=!1}}const l=Symbol(),s=document.currentScript;((t=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(t[l])return t[l];const e=a({target:t}),o=()=>{e(),delete t[l]};Object.defineProperty(t,l,{configurable:!0,value:o})})(s?s.getRootNode():document)}();
</script></foreignObject></svg></div><script>!function(){"use strict";var e=function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),a=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),s={},i=function(e,t){return(t=t||{}).index=a.indexOf(e),t.slide=e,t},o=function(e,t){s[e]=(s[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(s[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){a[e]&&(n&&l("deactivate",i(n,t)),n=a[e],l("activate",i(n,t)))},d=function(e,t){var r=a.indexOf(n)+e;l(e>0?"next":"prev",i(n,t))&&c(r,t)},u={off:o,on:function(e,t){return(s[e]||(s[e]=[])).push(t),o.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return a.indexOf(n);l("slide",i(a[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:a,destroy:function(e){l("destroy",i(n,e)),s={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u};function t(e){e.parent.classList.add("bespoke-marp-parent"),e.slides.forEach(e=>e.classList.add("bespoke-marp-slide")),e.on("activate",t=>{const n=t.slide,r=!n.classList.contains("bespoke-marp-active");e.slides.forEach(e=>{e.classList.remove("bespoke-marp-active"),e.setAttribute("aria-hidden","true")}),n.classList.add("bespoke-marp-active"),n.removeAttribute("aria-hidden"),r&&(n.classList.add("bespoke-marp-active-ready"),document.body.clientHeight,n.classList.remove("bespoke-marp-active-ready"))})}function n(e){let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map(e=>[null,...e.querySelectorAll("[data-marpit-fragment]")])});const r=r=>void 0!==e.fragments[t][n+r],a=(r,a)=>{t=r,n=a,e.fragments.forEach((e,t)=>{e.forEach((e,n)=>{if(null==e)return;const s=t<r||t===r&&n<=a;e.setAttribute("data-bespoke-marp-fragment",s?"active":"inactive"),t===r&&n===a?e.setAttribute("data-bespoke-marp-current-fragment","current"):e.removeAttribute("data-bespoke-marp-current-fragment")})}),e.fragmentIndex=a;const s={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:a};e.fire("fragment",s)};e.on("next",({fragment:s=!0})=>{if(s){if(r(1))return a(t,n+1),!1;const s=t+1;e.fragments[s]&&a(s,0)}else{const r=e.fragments[t].length;if(n+1<r)return a(t,r-1),!1;const s=e.fragments[t+1];s&&a(t+1,s.length-1)}}),e.on("prev",({fragment:s=!0})=>{if(r(-1)&&s)return a(t,n-1),!1;const i=t-1;e.fragments[i]&&a(i,e.fragments[i].length-1)}),e.on("slide",({index:t,fragment:n})=>{let r=0;if(void 0!==n){const a=e.fragments[t];if(a){const{length:e}=a;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}a(t,r)}),a(0,0)}var r,a,s=(function(e){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,a=n.length,s={};r<a;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)s[n[0][r]]=e[r];return s}return!1}(),a={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(e){return new Promise(function(n,a){var s=function(){this.off("change",s),n()}.bind(this);this.on("change",s);var i=(e=e||t.documentElement)[r.requestFullscreen]();i instanceof Promise&&i.then(s).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a);var s=t[r.exitFullscreen]();s instanceof Promise&&s.then(a).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=a[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=a[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(s,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=s:window.screenfull=s):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()}(a={path:r,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&a.path)}},a.exports),a.exports);function i(e){e.fullscreen=()=>{s.isEnabled&&s.toggle(document.body)},document.addEventListener("keydown",t=>{70!==t.which&&122!==t.which||t.altKey||t.ctrlKey||t.metaKey||!s.isEnabled||(e.fullscreen(),t.preventDefault())})}function o(e=2e3){return t=>{let n;function r(){n&&clearTimeout(n),n=setTimeout(()=>{t.parent.classList.add("bespoke-marp-inactive"),t.fire("marp-inactive")},e),t.parent.classList.contains("bespoke-marp-inactive")&&(t.parent.classList.remove("bespoke-marp-inactive"),t.fire("marp-active"))}document.addEventListener("mousedown",r),document.addEventListener("mousemove",r),document.addEventListener("touchend",r),setTimeout(r,0)}}const l=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"];function c(e){e.parent.addEventListener("keydown",e=>{if(!e.target)return;const t=e.target;(l.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()})}function d(e){window.addEventListener("load",()=>{for(const t of e.slides){const e=t.querySelector("[data-marp-fitting]")?"":"hideable";t.setAttribute("data-bespoke-marp-load",e)}})}var u;function f({interval:e=200}={}){return t=>{document.addEventListener("keydown",e=>{if(32===e.which&&e.shiftKey)t.prev();else if(33===e.which||37===e.which||38===e.which)t.prev({fragment:!e.shiftKey});else if(32!==e.which||e.shiftKey)if(34===e.which||39===e.which||40===e.which)t.next({fragment:!e.shiftKey});else if(35===e.which)t.slide(t.slides.length-1,{fragment:-1});else{if(36!==e.which)return;t.slide(0)}else t.next();e.preventDefault()});let n,r,a=0;t.parent.addEventListener("wheel",s=>{let i=!1;const o=(e,t)=>{e&&(i=i||function(e,t){return function(e,t){const n=t===u.X?"Width":"Height";return e["client"+n]<e["scroll"+n]}(e,t)&&function(e,t){const{overflow:n}=e,r=e["overflow"+t];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r}(getComputedStyle(e),t)}(e,t)),(null==e?void 0:e.parentElement)&&o(e.parentElement,t)};if(0!==s.deltaX&&o(s.target,u.X),0!==s.deltaY&&o(s.target,u.Y),i)return;s.preventDefault(),r&&clearTimeout(r),r=setTimeout(()=>{n=0},e);const l=Date.now()-a<e,c=Math.sqrt(Math.pow(s.deltaX,2)+Math.pow(s.deltaY,2)),d=c<=n;if(n=c,l||d)return;let f;(s.deltaX>0||s.deltaY>0)&&(f="next"),(s.deltaX<0||s.deltaY<0)&&(f="prev"),f&&(t[f](),a=Date.now())})}}!function(e){e.X="X",e.Y="Y"}(u||(u={}));const m=(...e)=>history.replaceState(...e),p="data-bespoke-view";var h;!function(e){e.Normal="",e.Presenter="presenter",e.Next="next"}(h||(h={}));const g=(e,{protocol:t,host:n,pathname:r,hash:a}=location)=>{const s=e.toString();return`${t}//${n}${r}${s?"?":""}${s}${a}`},v=()=>{switch(document.body.getAttribute(p)){case h.Normal:return h.Normal;case h.Presenter:return h.Presenter;case h.Next:return h.Next;default:throw new Error("View mode is not assigned.")}},b=e=>new URLSearchParams(location.search).get(e),w=(e,t={})=>{const n=Object.assign({location:location,setter:m},t),r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?r.set(t,n):r.delete(t)}try{n.setter(null,document.title,g(r,n.location))}catch(e){console.error(e)}},y={available:(()=>{try{return localStorage.setItem("bespoke-marp","bespoke-marp"),localStorage.removeItem("bespoke-marp"),!0}catch(e){return console.warn("Warning: Using localStorage is restricted in the current host so some features may not work."),!1}})(),get:e=>{try{return localStorage.getItem(e)}catch(e){return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},remove:e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}}};function x(e=".bespoke-marp-osc"){const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[data-bespoke-marp-osc=${JSON.stringify(e)}]`).forEach(n)};return s.isEnabled||n("fullscreen",e=>e.style.display="none"),y.available||n("presenter",e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."}),e=>{t.addEventListener("click",t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;switch(n&&t.target.blur(),n){case"next":e.next({fragment:!t.shiftKey});break;case"prev":e.prev({fragment:!t.shiftKey});break;case"fullscreen":"function"==typeof e.fullscreen&&s.isEnabled&&e.fullscreen();break;case"presenter":e.openPresenterView()}}}),e.parent.appendChild(t),e.on("activate",({index:t})=>{n("page",n=>n.textContent=`Page ${t+1} of ${e.slides.length}`)}),e.on("fragment",({index:t,fragments:r,fragmentIndex:a})=>{n("prev",e=>e.disabled=0===t&&0===a),n("next",n=>n.disabled=t===e.slides.length-1&&a===r.length-1)}),e.on("marp-active",()=>t.removeAttribute("aria-hidden")),e.on("marp-inactive",()=>t.setAttribute("aria-hidden","true")),s.isEnabled&&s.onchange(()=>n("fullscreen",e=>e.classList.toggle("exit",s.isEnabled&&s.isFullscreen)))}}function E(){const e=Math.max(Math.floor(.85*window.innerWidth),640),t=Math.max(Math.floor(.85*window.innerHeight),360);return window.open(this.presenterUrl,"bespoke-marp-presenter-"+this.syncKey,`width=${e},height=${t},menubar=no,toolbar=no`)}function k(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),g(e)}var L=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let S=e=>String(e).replace(/[&<>"']/g,e=>`&${I[e]};`),I={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},P="dangerouslySetInnerHTML",M={className:"class",htmlFor:"for"},N={};function F(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==P&&(r+=` ${M[e]?M[e]:S(e)}="${S(t[e])}"`);r+=">"}if(-1===L.indexOf(e)){if(t[P])r+=t[P].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===N[e]?e:S(e)}r+=e?`</${e}>`:""}return N[r]=!0,r}const O=({children:e})=>F(null,null,...e),q="bespoke-marp-presenter-container",C="bespoke-marp-presenter-next",T="bespoke-marp-presenter-next-container",A="bespoke-marp-presenter-note-container",K="bespoke-marp-presenter-info-container",$="bespoke-marp-presenter-info-page",j="bespoke-marp-presenter-info-page-text",D="bespoke-marp-presenter-info-page-prev",R="bespoke-marp-presenter-info-page-next",U="bespoke-marp-presenter-info-time",V="bespoke-marp-presenter-info-timer";function X(e){const{title:t}=document;document.title="[Presenter view]"+(t?" - "+t:"");const n={},r=e=>(n[e]=n[e]||document.querySelector("."+e),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=q,t.appendChild(e),t.insertAdjacentHTML("beforeend",F(O,null,F("div",{class:T},F("iframe",{class:C,src:"?view=next"})),F("div",{class:A}),F("div",{class:K},F("div",{class:$},F("button",{class:D,tabindex:"-1",title:"Previous"},"Previous"),F("span",{class:j}),F("button",{class:R,tabindex:"-1",title:"Next"},"Next")),F("time",{class:U,title:"Current time"}),F("div",{class:V})))),t})(e.parent)),(e=>{r(T).addEventListener("click",()=>e.next());const t=r(C),n=(a=t,(e,t)=>{var n;return null===(n=a.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var a;t.addEventListener("load",()=>{r(T).classList.add("active"),n(e.slide(),e.fragmentIndex),e.on("fragment",({index:e,fragmentIndex:t})=>n(e,t))});const s=document.querySelectorAll(".bespoke-marp-note");s.forEach(e=>{e.addEventListener("keydown",e=>e.stopPropagation()),r(A).appendChild(e)}),e.on("activate",()=>s.forEach(t=>t.classList.toggle("active",t.dataset.index==e.slide()))),e.on("activate",({index:t})=>{r(j).textContent=`${t+1} / ${e.slides.length}`});const i=r(D),o=r(R);i.addEventListener("click",t=>{i.blur(),e.prev({fragment:!t.shiftKey})}),o.addEventListener("click",t=>{o.blur(),e.next({fragment:!t.shiftKey})}),e.on("fragment",({index:t,fragments:n,fragmentIndex:r})=>{i.disabled=0===t&&0===r,o.disabled=t===e.slides.length-1&&r===n.length-1});const l=()=>r(U).textContent=(new Date).toLocaleTimeString();l(),setInterval(l,250)})(e)}function Y(e){const t=v();return t===h.Next&&e.appendChild(document.createElement("span")),e=>{t===h.Normal&&function(e){if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:E},presenterUrl:{enumerable:!0,get:k}}),y.available&&document.addEventListener("keydown",t=>{80!==t.which||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())})}(e),t===h.Presenter&&X(e),t===h.Next&&function(e){const t=t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let a=Number.parseInt(t,10),s=Number.parseInt(n,10)+1;s>=e.fragments[a].length&&(a+=1,s=0),e.slide(a,{fragment:s})}};window.addEventListener("message",t),e.on("destroy",()=>window.removeEventListener("message",t))}(e)}}function B(e){e.on("activate",t=>{document.querySelectorAll(".bespoke-progress-bar").forEach(n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"})})}const z=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t};function H(e={}){const t=Object.assign({history:!0},e);return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},a=(t={fragment:!0})=>{((t,n)=>{const{fragments:r,slides:a}=e,s=Math.max(0,Math.min(t,a.length-1)),i=Math.max(0,Math.min(n||0,r[s].length-1));s===e.slide()&&i===e.fragmentIndex||e.slide(s,{fragment:i})})((z(location.hash.slice(1))||1)-1,t.fragment?z(b("f")||""):null)};e.on("fragment",({index:e,fragmentIndex:r})=>{n||w({f:0===r||r.toString()},{location:Object.assign(Object.assign({},location),{hash:"#"+(e+1)}),setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})}),setTimeout(()=>{a(),window.addEventListener("hashchange",()=>r(()=>{a({fragment:!1}),w({f:void 0})})),window.addEventListener("popstate",()=>{n||r(()=>a())}),n=!1},0)}}function W(e={}){const t=e.key||((e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t})(),n="bespoke-marp-sync-"+t,r=()=>{const e=y.get(n);return e?JSON.parse(e):Object.create(null)},a=e=>{const t=r(),a=Object.assign(Object.assign({},t),e(t));return y.set(n,JSON.stringify(a)),a};return a(e=>({reference:(e.reference||0)+1})),e=>{Object.defineProperty(e,"syncKey",{value:t,enumerable:!0});let s=!0;setTimeout(()=>{e.on("fragment",e=>{s&&a(()=>({index:e.index,fragmentIndex:e.fragmentIndex}))})},0),window.addEventListener("storage",t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),r=JSON.parse(t.newValue);if(n.index!==r.index||n.fragmentIndex!==r.fragmentIndex)try{s=!1,e.slide(r.index,{fragment:r.fragmentIndex})}finally{s=!0}}}),e.on("destroy",()=>{const{reference:e}=r();void 0===e||e<=1?y.remove(n):a(()=>({reference:e-1}))})}}function J({slope:e=Math.tan(-35*Math.PI/180),swipeThreshold:t=30}={}){return n=>{let r;const a=n.parent,s=e=>{const t=a.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};a.addEventListener("touchstart",e=>{r=1===e.touches.length?s(e.touches[0]):void 0},{passive:!0}),a.addEventListener("touchmove",e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=s(e.touches[0]),n=t.x-r.x,a=t.y-r.y;r.delta=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(a),2)),r.radian=Math.atan2(n,a)}else r=void 0}),a.addEventListener("touchend",a=>{if(r){if(r.delta&&r.delta>=t&&r.radian){let t=r.radian-e;t=(t+Math.PI)%(2*Math.PI)-Math.PI,n[t<0?"next":"prev"](),a.stopPropagation()}r=void 0}},{passive:!0})}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _(e,t,n,r){return new(n||(n=Promise))((function(a,s){function i(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))}let G=void 0;const Q=()=>(void 0===G&&(G="wakeLock"in navigator&&navigator.wakeLock),G),Z=()=>_(void 0,void 0,void 0,(function*(){const e=Q();if(e)try{const t=yield e.request("screen");return t.addEventListener("release",()=>{console.debug("[Marp CLI] Wake Lock was released")}),console.debug("[Marp CLI] Wake Lock is active"),t}catch(e){console.warn(e)}return null}));function ee(){return _(this,void 0,void 0,(function*(){if(!Q())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Z()};return document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t),e=yield Z(),e}))}const te=[h.Normal,h.Presenter,h.Next];!function(r=document.getElementById("p")){document.body.setAttribute(p,(()=>{switch(b("view")){case"next":return h.Next;case"presenter":return h.Presenter;default:return h.Normal}})());const a=(e=>{const t=b(e);return w({[e]:void 0}),t})("sync")||void 0,s=!1,l=!0,u=e(r,((...e)=>{const t=te.findIndex(e=>v()===e);if(t<0)throw new Error("Invalid view");return e.map(([e,n])=>e[t]&&n).filter(e=>e)})([[l,l,s],W({key:a})],[[l,l,l],Y(r)],[[l,l,s],c],[[l,l,l],t],[[l,s,s],o()],[[l,l,l],d],[[l,l,l],H({history:!1})],[[l,l,s],f()],[[l,l,s],i],[[l,s,s],B],[[l,l,s],J()],[[l,s,s],x()],[[l,l,l],n],[[l,l,s],ee]));window.addEventListener("beforeunload",()=>w({sync:u.syncKey})),window.addEventListener("unload",()=>u.destroy())}()}();</script></body></html>